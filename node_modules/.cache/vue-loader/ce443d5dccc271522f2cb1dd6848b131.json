{"remainingRequest":"/Users/ganlin/Desktop/s1/student/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ganlin/Desktop/s1/student/src/pages/score_analysis/score.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ganlin/Desktop/s1/student/src/pages/score_analysis/score.vue","mtime":1674056810987},{"path":"/Users/ganlin/Desktop/s1/student/node_modules/cache-loader/dist/cjs.js","mtime":1674218876203},{"path":"/Users/ganlin/Desktop/s1/student/node_modules/babel-loader/lib/index.js","mtime":1674219168157},{"path":"/Users/ganlin/Desktop/s1/student/node_modules/cache-loader/dist/cjs.js","mtime":1674218876203},{"path":"/Users/ganlin/Desktop/s1/student/node_modules/vue-loader/lib/index.js","mtime":1674219169604}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport wordcloudindex from './wordcloud1.js';\n\timport * as echarts from 'echarts';\n\tlet defaultImg = require('../../assets/blank.png')\n\timport {\n\t\tLoading\n\t} from 'element-ui';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmsg:'机会1',\n\t\t\t\tstuForm: {\n\t\t\t\t\tstuid: ''\n\t\t\t\t},\n\t\t\t\tcalendarData: [{\n\t\t\t\t\t\tmonths: ['09', '11'],\n\t\t\t\t\t\tdays: ['15'],\n\t\t\t\t\t\tyear: ['2019'],\n\t\t\t\t\t\tthings: '迟到'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tmonths: ['11'],\n\t\t\t\t\t\tdays: ['20'],\n\t\t\t\t\t\tthings: '缺勤'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdatevalue: new Date(),\n\t\t\t\tactivities: [{\n\t\t\t\t\tcontent: '活动按期开始',\n\t\t\t\t\ttimestamp: '2018-04-15'\n\t\t\t\t}, {\n\t\t\t\t\tcontent: '通过审核',\n\t\t\t\t\ttimestamp: '2018-04-13'\n\t\t\t\t}, {\n\t\t\t\t\tcontent: '创建成功',\n\t\t\t\t\ttimestamp: '2018-04-11'\n\t\t\t\t}],\n\t\t\t\tlabelPosition: 'top',\n\t\t\t\twordcloud: {\n\t\t\t\t\tstopwd: '',\n\t\t\t\t\tuserdict: ''\n\t\t\t\t},\n\t\t\t\tflag: 3,\n\t\t\t\tstudentscore: {\n\t\t\t\t\tavg: '无',\n\t\t\t\t\tcredit: '无',\n\t\t\t\t\tavgcreditjd: '无',\n\t\t\t\t\tmoral: '无',\n\t\t\t\t\tknowledge: '无',\n\t\t\t\t\tsports: '无',\n\t\t\t\t\ttop1: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttop2: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttop3: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttopscore: '无',\n\t\t\t\t\tsorted: '无',\n\t\t\t\t\tfails: '无'\n\n\t\t\t\t},\n\t\t\t\tmks: [],\n\t\t\t\tsavemsg: '保存',\n\t\t\t\timagePathPrefix: '',\n\t\t\t\timagePath: defaultImg,\n\t\t\t\tsearchinput: '',\n\t\t\t\tstuadvices: [], //搜索建议列表\n\t\t\t\tstate: '', //搜索框值\n\t\t\t\ttimeout: null,\n\t\t\t\tdrawer: false,\n\t\t\t\tdirection: 'ltr',\n\t\t\t\tactiveName: 'stuscore',\n\t\t\t\toptions: [{\n\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t\tlabel: '请选择学期'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tvalue: '2017-2018',\n\t\t\t\t\t\tlabel: '2017-2018'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '2018-2019',\n\t\t\t\t\t\tlabel: '2018-2019'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tvalue: '2018-2019',\n\t\t\t\ttableData: [{\n\t\t\t\t\tkey: '学号',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '姓名',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '性别',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '年级',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '专业',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '班级',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '民族',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '政治面貌',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '家庭住址',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '出生日期',\n\t\t\t\t\tvalue: '暂无数据',\n\t\t\t\t}, {\n\t\t\t\t\tkey: '寝室',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '学生类型',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}]\n\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonSubmitPerson() {\n\t\t\t\tlet sno = this.state;\n\t\t\t\tlet flag = true;\n\t\t\t\tif (sno.match(/^[0-9]*$/)) {\n\t\t\t\t\tlet loadingInstance = Loading.service({\n\t\t\t\t\t\tfullscreen: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/searchstu/\" + sno)\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.tableData = [{\n\t\t\t\t\t\t\t\tkey: '学号',\n\t\t\t\t\t\t\t\tvalue: data.studentno\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '姓名',\n\t\t\t\t\t\t\t\tvalue: data.studentname\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '性别',\n\t\t\t\t\t\t\t\tvalue: data.sex\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '年级',\n\t\t\t\t\t\t\t\tvalue: data.termyear\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '专业',\n\t\t\t\t\t\t\t\tvalue: data.major\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '班级',\n\t\t\t\t\t\t\t\tvalue: data.class\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '民族',\n\t\t\t\t\t\t\t\tvalue: data.mz\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '政治面貌',\n\t\t\t\t\t\t\t\tvalue: data.zzmm\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '家庭住址',\n\t\t\t\t\t\t\t\tvalue: data.address\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '出生日期',\n\t\t\t\t\t\t\t\tvalue: data.birthday,\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '寝室',\n\t\t\t\t\t\t\t\tvalue: data.buildingname + data.roomnum\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '学生类型',\n\t\t\t\t\t\t\t\tvalue: data.stutype\n\t\t\t\t\t\t\t}]\n\n\t\t\t\t\t\t\tthis.drawMksRadar(this.tableData[0][\"value\"], this.value);\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t\t\tthis.tableData = [];\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/stuwordcloud/\" + sno)\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.imagePath = data;\n\t\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t// alert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.imagePathPrefix = '';\n\t\t\t\t\t\t\tthis.imagePath = defaultImg;\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.getStudentScore(sno, '2018-2019');\n\n\n\t\t\t\t} else {\n\t\t\t\t\talert(\"请输入学号进行查询\");\n\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\tthis.tableData = [];\n\t\t\t\t}\n\n\n\n\t\t\t},\n\t\t\tstubehavior(tab, event) {\n\t\t\t\tconsole.log(tab.name);\n\t\t\t\tswitch (tab.name) {\n\t\t\t\t\tcase \"stuscore\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"trend\":\n\t\t\t\t\t\tthis.drawSorcetrend();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"reward\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"punish\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"kq\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchangeTyChart() {\n\n\t\t\t},\n\t\t\tquerySearch(queryString, cb) {\n\t\t\t\tvar stuadvices = this.stuadvices;\n\t\t\t\tvar results = queryString ? stuadvices.filter(this.createFilter(queryString)) : stuadvices;\n\t\t\t\t// 调用 callback 返回建议列表的数据\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tcb(results);\n\t\t\t\t}, 2000 * Math.random());\n\t\t\t},\n\t\t\tcreateFilter(queryString) {\n\t\t\t\treturn (state) => {\n\t\t\t\t\treturn (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n\t\t\t\t};\n\t\t\t},\n\t\t\thandleSelect(item) {\n\t\t\t\tconsole.log(item);\n\t\t\t},\n\t\t\tdrawerhandleClose(done) {\n\t\t\t\tthis.$confirm('确认关闭？')\n\t\t\t\t\t.then(_ => {\n\t\t\t\t\t\tthis.wordcloud.stopwd = '';\n\t\t\t\t\t\tthis.wordcloud.userdict = '';\n\t\t\t\t\t\tdone();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(_ => {});\n\n\t\t\t},\n\t\t\tsaveWordCloudSettings() {\n\t\t\t\tthis.flag = 1;\n\t\t\t\tthis.savemsg = '保存中';\n\t\t\t\tlet stopwd = this.wordcloud.stopwd;\n\t\t\t\tlet userdict = this.wordcloud.userdict;\n\t\t\t\tlet stoplist = stopwd.split(\" \");\n\t\t\t\tlet userdictlist = userdict.split(\" \");\n\t\t\t\tif (stoplist.length == 1 && stoplist[0].length == 0) {\n\t\t\t\t\tthis.flag += 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$http.put(\"admin/addstopwords\", this.$qs.stringify({\n\t\t\t\t\t\t\t\"stopwd\": stoplist\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tindices: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.addswdmsg = data;\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (userdictlist.length == 1 && userdictlist[0].length == 0) {\n\t\t\t\t\tthis.flag += 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$http.put(\"admin/adduserdict\", this.$qs.stringify({\n\t\t\t\t\t\t\t\"userdict\": userdictlist\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tindices: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.addudtmsg = data;\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @param {String} sno 学号\n\t\t\t * @param {String} xuenian 学年\n\t\t\t * 三育雷达图\n\t\t\t */\n\t\t\tdrawMksRadar(sno, xuenian) {\n\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\t\tmyChart.showLoading();\n\t\t\t\tthis.$http.post(\"stuAnalysis/mks/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.mks = [];\n\t\t\t\t\t\tthis.mks.push(data[\"m\"]);\n\t\t\t\t\t\tthis.mks.push(data[\"k\"]);\n\t\t\t\t\t\tthis.mks.push(data[\"s\"]);\n\t\t\t\t\t\tthis.studentscore.moral = (data['m'] * 25).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.knowledge = (data['k'] * 70).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.sports = (data['s'] * 5).toFixed(2);\n\t\t\t\t\t\tlet option = {\n\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltip: {},\n\n\t\t\t\t\t\t\tradar: {\n\t\t\t\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tseries: [{\n\t\t\t\t\t\t\t\tname: '三育',\n\t\t\t\t\t\t\t\ttype: 'radar',\n\t\t\t\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmyChart.hideLoading();\n\t\t\t\t\t\tmyChart.setOption(option);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tmyChart.hideLoading();\n\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tdrawBlankRadar() {\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\t\tlet option = {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: {},\n\n\t\t\t\t\tradar: {\n\t\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tseries: [{\n\t\t\t\t\t\tname: '三育',\n\t\t\t\t\t\ttype: 'radar',\n\t\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}]\n\t\t\t\t};\n\t\t\t\tmyChart.setOption(option);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 获取学生成绩面板数据\n\t\t\t */\n\t\t\tgetStudentScore(sno, xuenian) {\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/3\")\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.studentscore.top1.name = data[0]['cname'];\n\t\t\t\t\t\tthis.studentscore.top2.name = data[1]['cname'];\n\t\t\t\t\t\tthis.studentscore.top3.name = data[2]['cname'];\n\t\t\t\t\t\tthis.studentscore.top1.score = data[0]['score'];\n\t\t\t\t\t\tthis.studentscore.top2.score = data[1]['score'];\n\t\t\t\t\t\tthis.studentscore.top3.score = data[2]['score'];\n\t\t\t\t\t\tthis.studentscore.topscore = data[0]['score'];\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t});\n\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/50\")\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tlet sum = 0;\n\t\t\t\t\t\tlet credit = 0;\n\t\t\t\t\t\tlet creditjd = 0;\n\t\t\t\t\t\tdata.map(d => {\n\t\t\t\t\t\t\tsum += d['score'];\n\t\t\t\t\t\t\tif (d['score'] >= 60) {\n\t\t\t\t\t\t\t\tcredit += d['credit'];\n\t\t\t\t\t\t\t\tcreditjd += d['credit'] * d['jd'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.studentscore.avg = (sum / data.length).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.credit = credit.toFixed(2);\n\t\t\t\t\t\tthis.studentscore.avgcreditjd = (creditjd / credit).toFixed(2);\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t});\n\t\t\t\tthis.$http.get(\"stuAnalysis/rank/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.studentscore.sorted = data;\n\t\t\t\t\t});\n\t\t\t\tthis.$http.post(\"stuAnalysis/searchfailsRate/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => this.studentscore.fails = data * 100);\n\t\t\t},\n\n\t\t\tdraw0(){\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('main'));\n\t\t\tlet option = {\n\t\t\t\ttitle: {\n\t\t\t\ttext: 'Funnel'\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'item',\n\t\t\t\tformatter: '{a} <br/>{b} : {c}%'\n\t\t\t\t},\n\t\t\t\ttoolbox: {\n\t\t\t\tfeature: {\n\t\t\t\t\tdataView: { readOnly: false },\n\t\t\t\t\trestore: {},\n\t\t\t\t\tsaveAsImage: {}\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\tdata: ['Show', 'Click', 'Visit', 'Inquiry', 'Order']\n\t\t\t\t},\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Funnel',\n\t\t\t\t\ttype: 'funnel',\n\t\t\t\t\tleft: '10%',\n\t\t\t\t\ttop: 60,\n\t\t\t\t\tbottom: 60,\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tminSize: '0%',\n\t\t\t\t\tmaxSize: '100%',\n\t\t\t\t\tsort: 'ascending',\n\t\t\t\t\tgap: 2,\n\t\t\t\t\tlabel: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tposition: 'inside'\n\t\t\t\t\t},\n\t\t\t\t\tlabelLine: {\n\t\t\t\t\tlength: 10,\n\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\ttype: 'solid'\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titemStyle: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t\tborderWidth: 1\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tfontSize: 20\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdata: [\n\t\t\t\t\t{ value: 60, name: 'Visit' },\n\t\t\t\t\t{ value: 40, name: 'Inquiry' },\n\t\t\t\t\t{ value: 20, name: 'Order' },\n\t\t\t\t\t{ value: 80, name: 'Click' },\n\t\t\t\t\t{ value: 100, name: 'Show' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n      \t\t myChart.setOption(option);\n\t\t\t\t\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 成绩趋势\n\t\t\t *\n\t\t\t */\n\t\t\tdrawSorcetrend() {\n\t\t\t\t//TODO\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"trendchart\"));\n\t\t\t\tlet colors = ['#5793f3', '#d14a61', '#675bba'];\n\t\t\t\tlet option = {\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\ttrigger: 'axis',\n\t\t\t\t\t\taxisPointer: {\n\t\t\t\t\t\t\ttype: 'cross'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdata: ['德育分', '智育分', '体育分']\n\t\t\t\t\t},\n\t\t\t\t\txAxis: [{\n\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\talignWithLabel: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: ['2019-2020', '2020-2021', '2021-2022']\n\t\t\t\t\t}],\n\t\t\t\t\tyAxis: [{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '德育分',\n\t\t\t\t\t\t\tmin: 15,\n\t\t\t\t\t\t\tmax: 25,\n\t\t\t\t\t\t\tinterval: 1,\n\t\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[0]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '智育分',\n\t\t\t\t\t\t\tmin: 60,\n\t\t\t\t\t\t\tmax: 70,\n\t\t\t\t\t\t\tinterval: 2,\n\t\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t\toffset: 80,\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[1]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '体育分',\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t\t\tposition: 'left',\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[2]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value}'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinterval: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tseries: [{\n\t\t\t\t\t\t\tname: '德育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tdata: [20, 21.5, 22]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '智育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tyAxisIndex: 1,\n\t\t\t\t\t\t\tdata: [62, 61.5, 62.5]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '体育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tyAxisIndex: 2,\n\t\t\t\t\t\t\tdata: [4.5, 4, 3.8]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\n\t\t\t\tmyChart.setOption(option);\n\t\t\t},\n\t\t\t\n\t\t\tautocheck(){\n\t\t\t\tlet sno = this.$param(\"sno\");\n\t\t\t\tif (sno != \"\" && sno.match(/^[0-9]*$/)){\n\t\t\t\t\tthis.state = this.$param(\"sno\");\n\t\t\t\t\tthis.onSubmitPerson();\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\t\tcomponents: {\n\n\t\t},\n\n\t\tmounted() {\n\t\t\t\n\t\t\tvar chartDom = document.getElementById('tre');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\t\t\t// Schema:\n\t\t\t// date,AQIindex,PM2.5,PM10,CO,NO2,SO2\n\t\t\tconst dataBJ = [[55, 189, 56, 0.46, 18, 69, 100]];\n\t\t\tconst dataGZ = [[118, 50, 60, 1.383, 76, 11, 31]];\n\t\t\tconst dataSH = [[187, 143, 201, 1.39, 89, 53, 31]];\n\t\t\tconst lineStyle = {\n\t\t\twidth: 1,\n\t\t\topacity: 0.5\n\t\t\t};\n\t\t\toption = {\n\t\t\tbackgroundColor: '#161627',\n\t\t\ttitle: {\n\t\t\t\ttext: 'AQI - Radar',\n\t\t\t\tleft: 'center',\n\t\t\t\ttextStyle: {\n\t\t\t\tcolor: '#eee'\n\t\t\t\t}\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tbottom: 5,\n\t\t\t\tdata: ['Beijing', 'Shanghai', 'Guangzhou'],\n\t\t\t\titemGap: 20,\n\t\t\t\ttextStyle: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tfontSize: 14\n\t\t\t\t},\n\t\t\t\tselectedMode: 'single'\n\t\t\t},\n\t\t\tradar: {\n\t\t\t\tindicator: [\n\t\t\t\t{ name: 'AQI', max: 300 },\n\t\t\t\t{ name: 'PM2.5', max: 250 },\n\t\t\t\t{ name: 'PM10', max: 300 },\n\t\t\t\t{ name: 'CO', max: 5 },\n\t\t\t\t{ name: 'NO2', max: 200 },\n\t\t\t\t{ name: 'SO2', max: 100 }\n\t\t\t\t],\n\t\t\t\tshape: 'circle',\n\t\t\t\tsplitNumber: 5,\n\t\t\t\taxisName: {\n\t\t\t\tcolor: 'rgb(238, 197, 102)'\n\t\t\t\t},\n\t\t\t\tsplitLine: {\n\t\t\t\tlineStyle: {\n\t\t\t\t\tcolor: [\n\t\t\t\t\t'rgba(238, 197, 102, 0.1)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.2)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.4)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.6)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.8)',\n\t\t\t\t\t'rgba(238, 197, 102, 1)'\n\t\t\t\t\t].reverse()\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsplitArea: {\n\t\t\t\tshow: false\n\t\t\t\t},\n\t\t\t\taxisLine: {\n\t\t\t\tlineStyle: {\n\t\t\t\t\tcolor: 'rgba(238, 197, 102, 0.5)'\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\tname: 'Beijing',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataBJ,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: '#F9713C'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.1\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: 'Shanghai',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataSH,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: '#B3E4A1'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.05\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: 'Guangzhou',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataGZ,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: 'rgb(238, 197, 102)'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.05\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t\t};\n\t\t\toption && myChart.setOption(option);\n\n\t\t\tvar chartDom = document.getElementById('tre1');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\n\t\t\toption = {\n\t\t\txAxis: {\n\t\t\t\ttype: 'category',\n\t\t\t\tdata: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n\t\t\t},\n\t\t\tyAxis: {\n\t\t\t\ttype: 'value'\n\t\t\t},\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 901, 934, 1290, 1330, 1320],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 901, 94, 129, 1330, 1320],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 94, 129, 1330, 1320, 932, 901],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 132, 901, 94, 129, 1330],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t}\n\t\t\t]\n\t\t\t};\n\t\t\toption && myChart.setOption(option);\n\n\n\n\t\t\tvar myChart = echarts.init(document.getElementById('tren'));\n\t\t\tvar option = {\n\t\t\t\ttitle: {\n\t\t\t\ttext: 'Funnel'\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'item',\n\t\t\t\tformatter: '{a} <br/>{b} : {c}%'\n\t\t\t\t},\n\t\t\t\ttoolbox: {\n\t\t\t\tfeature: {\n\t\t\t\t\tdataView: { readOnly: false },\n\t\t\t\t\trestore: {},\n\t\t\t\t\tsaveAsImage: {}\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\tdata: ['Show', 'Click', 'Visit', 'Inquiry', 'Order']\n\t\t\t\t},\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Funnel',\n\t\t\t\t\ttype: 'funnel',\n\t\t\t\t\tleft: '10%',\n\t\t\t\t\ttop: 60,\n\t\t\t\t\tbottom: 60,\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tminSize: '0%',\n\t\t\t\t\tmaxSize: '100%',\n\t\t\t\t\tsort: 'ascending',\n\t\t\t\t\tgap: 2,\n\t\t\t\t\tlabel: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tposition: 'inside'\n\t\t\t\t\t},\n\t\t\t\t\tlabelLine: {\n\t\t\t\t\tlength: 10,\n\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\ttype: 'solid'\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titemStyle: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t\tborderWidth: 1\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tfontSize: 20\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdata: [\n\t\t\t\t\t{ value: 60, name: 'Visit' },\n\t\t\t\t\t{ value: 40, name: 'Inquiry' },\n\t\t\t\t\t{ value: 20, name: 'Order' },\n\t\t\t\t\t{ value: 80, name: 'Click' },\n\t\t\t\t\t{ value: 100, name: 'Show' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n      \t\toption && myChart.setOption(option);\n\n\t\t\tvar chartDom = document.getElementById('trenn');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\t\t\tsetTimeout(function () {\n\t\t\toption = {\n\t\t\t\tlegend: {},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'axis',\n\t\t\t\tshowContent: false\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\tsource: [\n\t\t\t\t\t['product', '2012', '2013', '2014', '2015', '2016', '2017'],\n\t\t\t\t\t['Milk Tea', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n\t\t\t\t\t['Matcha Latte', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n\t\t\t\t\t['Cheese Cocoa', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n\t\t\t\t\t['Walnut Brownie', 25.2, 37.1, 41.2, 18, 33.9, 49.1]\n\t\t\t\t]\n\t\t\t\t},\n\t\t\t\txAxis: { type: 'category' },\n\t\t\t\tyAxis: { gridIndex: 0 },\n\t\t\t\tgrid: { top: '55%' },\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'pie',\n\t\t\t\t\tid: 'pie',\n\t\t\t\t\tradius: '30%',\n\t\t\t\t\tcenter: ['50%', '25%'],\n\t\t\t\t\temphasis: {\n\t\t\t\t\tfocus: 'self'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\tformatter: '{b}: {@2012} ({d}%)'\n\t\t\t\t\t},\n\t\t\t\t\tencode: {\n\t\t\t\t\titemName: 'product',\n\t\t\t\t\tvalue: '2012',\n\t\t\t\t\ttooltip: '2012'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tmyChart.on('updateAxisPointer', function (event) {\n\t\t\t\tconst xAxisInfo = event.axesInfo[0];\n\t\t\t\tif (xAxisInfo) {\n\t\t\t\tconst dimension = xAxisInfo.value + 1;\n\t\t\t\tmyChart.setOption({\n\t\t\t\t\tseries: {\n\t\t\t\t\tid: 'pie',\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tformatter: '{b}: {@[' + dimension + ']} ({d}%)'\n\t\t\t\t\t},\n\t\t\t\t\tencode: {\n\t\t\t\t\t\tvalue: dimension,\n\t\t\t\t\t\ttooltip: dimension\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tmyChart.setOption(option);\n\t\t\t});\n\t\t\toption && myChart.setOption(option);\n\n\t\t\tthis.drawBlankRadar();\n\t\t\tthis.autocheck();\n\t\t\tthis.draw0();\n\t\t},\n\n\t\tbeforeMount(){\n\t\t\tconsole.log(\"bef\",this.$param(\"sno\"));\n\t\t},\n\n\t\twatch: {\n\t\t\tstate(newv, oldv) {\n\t\t\t\tif (newv.match(/^[\\u4e00-\\u9fa5]+$/)) {\n\t\t\t\t\tif (newv.length > 10) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\"sname\": newv\n\t\t\t\t\t}\n\t\t\t\t\tthis.$http.post(\"stuAnalysis/searchadv\", this.$qs.stringify(data))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.stuadvices = data;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tif (err.response.status != 404) {\n\t\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tflag(n) {\n\t\t\t\tif (n == 3) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '保存成功！',\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n",{"version":3,"sources":["score.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"score.vue","sourceRoot":"src/pages/score_analysis","sourcesContent":["<template>\n\t<div class=\"score\">\n\t\t<el-container>\n\t\t\t<el-main  class=\"chart0\" style=\"width: 100%;height: 660px;\">\n\n\t\t\t\t<div  id=\"tre\" style=\"width: 100%;height: 600px;\" >\n\n\t\t\t\t</div>\n\t\t\t</el-main>\n\t\t\t<el-main class=\"chart0\" style=\"width: 100%;height: 660px;\">\n\n\t\t\t<div  id=\"tre1\" style=\"width: 100%;height: 600px;\">\n\n\t\t\t</div>\n\t\t\t</el-main>\n\t\t</el-container>\n\t\n\t\n\t\t<el-container>\n\t\t\t<el-main  class=\"chart1\" style=\"width: 100%;height: 660px;\">\n\n\t\t\t\t<div  id=\"tren\" style=\"width: 100%;height: 600px;\" >\n\n\t\t\t\t</div>\n\t\t\t</el-main>\n\t\t\t<el-main class=\"chart2\" style=\"width: 100%;height: 660px;\">\n\n\t\t\t<div  id=\"trenn\" style=\"width: 100%;height: 600px;\">\n\n\t\t\t</div>\n\t\t\t</el-main>\n\t\t</el-container>\n\t\n\t\t\n\t\t<el-container>\n\t\t\t<el-main class=\"chart3\">\n\t\t\t\t<el-tag type=\"info\" effect=\"dark\">成绩分析</el-tag>\n\t\t\t\t<el-tabs v-model=\"tea_activename\" @tab-click=\"stubehavior\">\n\t\t\t\t\t<el-tab-pane label=\"成绩走势\" name=\"trend\">\n\t\n\t\t\t\t\t\t<div id=\"trendchart\" style=\"width: 1000px;height: 350px;\">\n\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-tab-pane>\n\t\t\t\t</el-tabs>\n\t\t\t</el-main>\n\n\t\t</el-container>\n\n\n\t\t<el-container>\n\t\t\t<el-main class=\"chart5\" style=\"height: 80px;color: #000;font-weight: 800;\">\n\t\t\t\t统计数据均排除空白数据和无效数据\n\t\t\t</el-main>\n\t\t</el-container>\n\t</div>\n</template>\n\n\n<script>\n\timport wordcloudindex from './wordcloud1.js';\n\timport * as echarts from 'echarts';\n\tlet defaultImg = require('../../assets/blank.png')\n\timport {\n\t\tLoading\n\t} from 'element-ui';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmsg:'机会1',\n\t\t\t\tstuForm: {\n\t\t\t\t\tstuid: ''\n\t\t\t\t},\n\t\t\t\tcalendarData: [{\n\t\t\t\t\t\tmonths: ['09', '11'],\n\t\t\t\t\t\tdays: ['15'],\n\t\t\t\t\t\tyear: ['2019'],\n\t\t\t\t\t\tthings: '迟到'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tmonths: ['11'],\n\t\t\t\t\t\tdays: ['20'],\n\t\t\t\t\t\tthings: '缺勤'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdatevalue: new Date(),\n\t\t\t\tactivities: [{\n\t\t\t\t\tcontent: '活动按期开始',\n\t\t\t\t\ttimestamp: '2018-04-15'\n\t\t\t\t}, {\n\t\t\t\t\tcontent: '通过审核',\n\t\t\t\t\ttimestamp: '2018-04-13'\n\t\t\t\t}, {\n\t\t\t\t\tcontent: '创建成功',\n\t\t\t\t\ttimestamp: '2018-04-11'\n\t\t\t\t}],\n\t\t\t\tlabelPosition: 'top',\n\t\t\t\twordcloud: {\n\t\t\t\t\tstopwd: '',\n\t\t\t\t\tuserdict: ''\n\t\t\t\t},\n\t\t\t\tflag: 3,\n\t\t\t\tstudentscore: {\n\t\t\t\t\tavg: '无',\n\t\t\t\t\tcredit: '无',\n\t\t\t\t\tavgcreditjd: '无',\n\t\t\t\t\tmoral: '无',\n\t\t\t\t\tknowledge: '无',\n\t\t\t\t\tsports: '无',\n\t\t\t\t\ttop1: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttop2: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttop3: {\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t\tscore: '无'\n\t\t\t\t\t},\n\t\t\t\t\ttopscore: '无',\n\t\t\t\t\tsorted: '无',\n\t\t\t\t\tfails: '无'\n\n\t\t\t\t},\n\t\t\t\tmks: [],\n\t\t\t\tsavemsg: '保存',\n\t\t\t\timagePathPrefix: '',\n\t\t\t\timagePath: defaultImg,\n\t\t\t\tsearchinput: '',\n\t\t\t\tstuadvices: [], //搜索建议列表\n\t\t\t\tstate: '', //搜索框值\n\t\t\t\ttimeout: null,\n\t\t\t\tdrawer: false,\n\t\t\t\tdirection: 'ltr',\n\t\t\t\tactiveName: 'stuscore',\n\t\t\t\toptions: [{\n\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t\tlabel: '请选择学期'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tvalue: '2017-2018',\n\t\t\t\t\t\tlabel: '2017-2018'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: '2018-2019',\n\t\t\t\t\t\tlabel: '2018-2019'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tvalue: '2018-2019',\n\t\t\t\ttableData: [{\n\t\t\t\t\tkey: '学号',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '姓名',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '性别',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '年级',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '专业',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '班级',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '民族',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '政治面貌',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '家庭住址',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '出生日期',\n\t\t\t\t\tvalue: '暂无数据',\n\t\t\t\t}, {\n\t\t\t\t\tkey: '寝室',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}, {\n\t\t\t\t\tkey: '学生类型',\n\t\t\t\t\tvalue: '暂无数据'\n\t\t\t\t}]\n\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonSubmitPerson() {\n\t\t\t\tlet sno = this.state;\n\t\t\t\tlet flag = true;\n\t\t\t\tif (sno.match(/^[0-9]*$/)) {\n\t\t\t\t\tlet loadingInstance = Loading.service({\n\t\t\t\t\t\tfullscreen: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/searchstu/\" + sno)\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.tableData = [{\n\t\t\t\t\t\t\t\tkey: '学号',\n\t\t\t\t\t\t\t\tvalue: data.studentno\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '姓名',\n\t\t\t\t\t\t\t\tvalue: data.studentname\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '性别',\n\t\t\t\t\t\t\t\tvalue: data.sex\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '年级',\n\t\t\t\t\t\t\t\tvalue: data.termyear\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '专业',\n\t\t\t\t\t\t\t\tvalue: data.major\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '班级',\n\t\t\t\t\t\t\t\tvalue: data.class\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '民族',\n\t\t\t\t\t\t\t\tvalue: data.mz\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '政治面貌',\n\t\t\t\t\t\t\t\tvalue: data.zzmm\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '家庭住址',\n\t\t\t\t\t\t\t\tvalue: data.address\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '出生日期',\n\t\t\t\t\t\t\t\tvalue: data.birthday,\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '寝室',\n\t\t\t\t\t\t\t\tvalue: data.buildingname + data.roomnum\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: '学生类型',\n\t\t\t\t\t\t\t\tvalue: data.stutype\n\t\t\t\t\t\t\t}]\n\n\t\t\t\t\t\t\tthis.drawMksRadar(this.tableData[0][\"value\"], this.value);\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t\t\tthis.tableData = [];\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.$http.get(\"stuAnalysis/stuwordcloud/\" + sno)\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.imagePath = data;\n\t\t\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t// alert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.imagePathPrefix = '';\n\t\t\t\t\t\t\tthis.imagePath = defaultImg;\n\t\t\t\t\t\t});\n\t\t\t\t\tthis.getStudentScore(sno, '2018-2019');\n\n\n\t\t\t\t} else {\n\t\t\t\t\talert(\"请输入学号进行查询\");\n\t\t\t\t\tloadingInstance.close();\n\t\t\t\t\tthis.tableData = [];\n\t\t\t\t}\n\n\n\n\t\t\t},\n\t\t\tstubehavior(tab, event) {\n\t\t\t\tconsole.log(tab.name);\n\t\t\t\tswitch (tab.name) {\n\t\t\t\t\tcase \"stuscore\":\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"trend\":\n\t\t\t\t\t\tthis.drawSorcetrend();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"reward\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"punish\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"kq\":\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchangeTyChart() {\n\n\t\t\t},\n\t\t\tquerySearch(queryString, cb) {\n\t\t\t\tvar stuadvices = this.stuadvices;\n\t\t\t\tvar results = queryString ? stuadvices.filter(this.createFilter(queryString)) : stuadvices;\n\t\t\t\t// 调用 callback 返回建议列表的数据\n\t\t\t\tclearTimeout(this.timeout);\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tcb(results);\n\t\t\t\t}, 2000 * Math.random());\n\t\t\t},\n\t\t\tcreateFilter(queryString) {\n\t\t\t\treturn (state) => {\n\t\t\t\t\treturn (state.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n\t\t\t\t};\n\t\t\t},\n\t\t\thandleSelect(item) {\n\t\t\t\tconsole.log(item);\n\t\t\t},\n\t\t\tdrawerhandleClose(done) {\n\t\t\t\tthis.$confirm('确认关闭？')\n\t\t\t\t\t.then(_ => {\n\t\t\t\t\t\tthis.wordcloud.stopwd = '';\n\t\t\t\t\t\tthis.wordcloud.userdict = '';\n\t\t\t\t\t\tdone();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(_ => {});\n\n\t\t\t},\n\t\t\tsaveWordCloudSettings() {\n\t\t\t\tthis.flag = 1;\n\t\t\t\tthis.savemsg = '保存中';\n\t\t\t\tlet stopwd = this.wordcloud.stopwd;\n\t\t\t\tlet userdict = this.wordcloud.userdict;\n\t\t\t\tlet stoplist = stopwd.split(\" \");\n\t\t\t\tlet userdictlist = userdict.split(\" \");\n\t\t\t\tif (stoplist.length == 1 && stoplist[0].length == 0) {\n\t\t\t\t\tthis.flag += 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$http.put(\"admin/addstopwords\", this.$qs.stringify({\n\t\t\t\t\t\t\t\"stopwd\": stoplist\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tindices: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.addswdmsg = data;\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (userdictlist.length == 1 && userdictlist[0].length == 0) {\n\t\t\t\t\tthis.flag += 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$http.put(\"admin/adduserdict\", this.$qs.stringify({\n\t\t\t\t\t\t\t\"userdict\": userdictlist\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tindices: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.addudtmsg = data;\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\tthis.flag += 1;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @param {String} sno 学号\n\t\t\t * @param {String} xuenian 学年\n\t\t\t * 三育雷达图\n\t\t\t */\n\t\t\tdrawMksRadar(sno, xuenian) {\n\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\t\tmyChart.showLoading();\n\t\t\t\tthis.$http.post(\"stuAnalysis/mks/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.mks = [];\n\t\t\t\t\t\tthis.mks.push(data[\"m\"]);\n\t\t\t\t\t\tthis.mks.push(data[\"k\"]);\n\t\t\t\t\t\tthis.mks.push(data[\"s\"]);\n\t\t\t\t\t\tthis.studentscore.moral = (data['m'] * 25).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.knowledge = (data['k'] * 70).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.sports = (data['s'] * 5).toFixed(2);\n\t\t\t\t\t\tlet option = {\n\t\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttooltip: {},\n\n\t\t\t\t\t\t\tradar: {\n\t\t\t\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tseries: [{\n\t\t\t\t\t\t\t\tname: '三育',\n\t\t\t\t\t\t\t\ttype: 'radar',\n\t\t\t\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmyChart.hideLoading();\n\t\t\t\t\t\tmyChart.setOption(option);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tmyChart.hideLoading();\n\n\t\t\t\t\t})\n\t\t\t},\n\t\t\tdrawBlankRadar() {\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"mksradar\"));\n\t\t\t\tlet option = {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttext: '学生综合评价',\n\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: {},\n\n\t\t\t\t\tradar: {\n\t\t\t\t\t\t// shape: 'circle',\n\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\ttextStyle: {\n\t\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t\t\tbackgroundColor: '#999',\n\t\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\t\tpadding: [3, 5]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindicator: [{\n\t\t\t\t\t\t\t\tname: '德育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: '智育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: '体育',\n\t\t\t\t\t\t\t\tmax: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tseries: [{\n\t\t\t\t\t\tname: '三育',\n\t\t\t\t\t\ttype: 'radar',\n\t\t\t\t\t\tareaStyle: {\n\t\t\t\t\t\t\tnormal: {}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: [{\n\t\t\t\t\t\t\tvalue: this.mks,\n\t\t\t\t\t\t\tname: '三育'\n\t\t\t\t\t\t}]\n\t\t\t\t\t}]\n\t\t\t\t};\n\t\t\t\tmyChart.setOption(option);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 获取学生成绩面板数据\n\t\t\t */\n\t\t\tgetStudentScore(sno, xuenian) {\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/3\")\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.studentscore.top1.name = data[0]['cname'];\n\t\t\t\t\t\tthis.studentscore.top2.name = data[1]['cname'];\n\t\t\t\t\t\tthis.studentscore.top3.name = data[2]['cname'];\n\t\t\t\t\t\tthis.studentscore.top1.score = data[0]['score'];\n\t\t\t\t\t\tthis.studentscore.top2.score = data[1]['score'];\n\t\t\t\t\t\tthis.studentscore.top3.score = data[2]['score'];\n\t\t\t\t\t\tthis.studentscore.topscore = data[0]['score'];\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\n\t\t\t\t\t});\n\n\t\t\t\tthis.$http.post(\"stuAnalysis/courses/\" + xuenian + \"/\" + sno + \"/50\")\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tlet sum = 0;\n\t\t\t\t\t\tlet credit = 0;\n\t\t\t\t\t\tlet creditjd = 0;\n\t\t\t\t\t\tdata.map(d => {\n\t\t\t\t\t\t\tsum += d['score'];\n\t\t\t\t\t\t\tif (d['score'] >= 60) {\n\t\t\t\t\t\t\t\tcredit += d['credit'];\n\t\t\t\t\t\t\t\tcreditjd += d['credit'] * d['jd'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.studentscore.avg = (sum / data.length).toFixed(2);\n\t\t\t\t\t\tthis.studentscore.credit = credit.toFixed(2);\n\t\t\t\t\t\tthis.studentscore.avgcreditjd = (creditjd / credit).toFixed(2);\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t});\n\t\t\t\tthis.$http.get(\"stuAnalysis/rank/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tthis.studentscore.sorted = data;\n\t\t\t\t\t});\n\t\t\t\tthis.$http.post(\"stuAnalysis/searchfailsRate/\" + xuenian + \"/\" + sno)\n\t\t\t\t\t.then(({\n\t\t\t\t\t\tdata\n\t\t\t\t\t}) => this.studentscore.fails = data * 100);\n\t\t\t},\n\n\t\t\tdraw0(){\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('main'));\n\t\t\tlet option = {\n\t\t\t\ttitle: {\n\t\t\t\ttext: 'Funnel'\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'item',\n\t\t\t\tformatter: '{a} <br/>{b} : {c}%'\n\t\t\t\t},\n\t\t\t\ttoolbox: {\n\t\t\t\tfeature: {\n\t\t\t\t\tdataView: { readOnly: false },\n\t\t\t\t\trestore: {},\n\t\t\t\t\tsaveAsImage: {}\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\tdata: ['Show', 'Click', 'Visit', 'Inquiry', 'Order']\n\t\t\t\t},\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Funnel',\n\t\t\t\t\ttype: 'funnel',\n\t\t\t\t\tleft: '10%',\n\t\t\t\t\ttop: 60,\n\t\t\t\t\tbottom: 60,\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tminSize: '0%',\n\t\t\t\t\tmaxSize: '100%',\n\t\t\t\t\tsort: 'ascending',\n\t\t\t\t\tgap: 2,\n\t\t\t\t\tlabel: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tposition: 'inside'\n\t\t\t\t\t},\n\t\t\t\t\tlabelLine: {\n\t\t\t\t\tlength: 10,\n\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\ttype: 'solid'\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titemStyle: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t\tborderWidth: 1\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tfontSize: 20\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdata: [\n\t\t\t\t\t{ value: 60, name: 'Visit' },\n\t\t\t\t\t{ value: 40, name: 'Inquiry' },\n\t\t\t\t\t{ value: 20, name: 'Order' },\n\t\t\t\t\t{ value: 80, name: 'Click' },\n\t\t\t\t\t{ value: 100, name: 'Show' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n      \t\t myChart.setOption(option);\n\t\t\t\t\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 成绩趋势\n\t\t\t *\n\t\t\t */\n\t\t\tdrawSorcetrend() {\n\t\t\t\t//TODO\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById(\"trendchart\"));\n\t\t\t\tlet colors = ['#5793f3', '#d14a61', '#675bba'];\n\t\t\t\tlet option = {\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\ttrigger: 'axis',\n\t\t\t\t\t\taxisPointer: {\n\t\t\t\t\t\t\ttype: 'cross'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdata: ['德育分', '智育分', '体育分']\n\t\t\t\t\t},\n\t\t\t\t\txAxis: [{\n\t\t\t\t\t\ttype: 'category',\n\t\t\t\t\t\taxisTick: {\n\t\t\t\t\t\t\talignWithLabel: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: ['2019-2020', '2020-2021', '2021-2022']\n\t\t\t\t\t}],\n\t\t\t\t\tyAxis: [{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '德育分',\n\t\t\t\t\t\t\tmin: 15,\n\t\t\t\t\t\t\tmax: 25,\n\t\t\t\t\t\t\tinterval: 1,\n\t\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[0]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '智育分',\n\t\t\t\t\t\t\tmin: 60,\n\t\t\t\t\t\t\tmax: 70,\n\t\t\t\t\t\t\tinterval: 2,\n\t\t\t\t\t\t\tposition: 'right',\n\t\t\t\t\t\t\toffset: 80,\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[1]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value} '\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: '体育分',\n\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t\t\tposition: 'left',\n\t\t\t\t\t\t\taxisLine: {\n\t\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\t\tcolor: colors[2]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\t\t\tformatter: '{value}'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinterval: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tseries: [{\n\t\t\t\t\t\t\tname: '德育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tdata: [20, 21.5, 22]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '智育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tyAxisIndex: 1,\n\t\t\t\t\t\t\tdata: [62, 61.5, 62.5]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '体育分',\n\t\t\t\t\t\t\ttype: 'line',\n\t\t\t\t\t\t\tyAxisIndex: 2,\n\t\t\t\t\t\t\tdata: [4.5, 4, 3.8]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\n\t\t\t\tmyChart.setOption(option);\n\t\t\t},\n\t\t\t\n\t\t\tautocheck(){\n\t\t\t\tlet sno = this.$param(\"sno\");\n\t\t\t\tif (sno != \"\" && sno.match(/^[0-9]*$/)){\n\t\t\t\t\tthis.state = this.$param(\"sno\");\n\t\t\t\t\tthis.onSubmitPerson();\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\t\tcomponents: {\n\n\t\t},\n\n\t\tmounted() {\n\t\t\t\n\t\t\tvar chartDom = document.getElementById('tre');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\t\t\t// Schema:\n\t\t\t// date,AQIindex,PM2.5,PM10,CO,NO2,SO2\n\t\t\tconst dataBJ = [[55, 189, 56, 0.46, 18, 69, 100]];\n\t\t\tconst dataGZ = [[118, 50, 60, 1.383, 76, 11, 31]];\n\t\t\tconst dataSH = [[187, 143, 201, 1.39, 89, 53, 31]];\n\t\t\tconst lineStyle = {\n\t\t\twidth: 1,\n\t\t\topacity: 0.5\n\t\t\t};\n\t\t\toption = {\n\t\t\tbackgroundColor: '#161627',\n\t\t\ttitle: {\n\t\t\t\ttext: 'AQI - Radar',\n\t\t\t\tleft: 'center',\n\t\t\t\ttextStyle: {\n\t\t\t\tcolor: '#eee'\n\t\t\t\t}\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tbottom: 5,\n\t\t\t\tdata: ['Beijing', 'Shanghai', 'Guangzhou'],\n\t\t\t\titemGap: 20,\n\t\t\t\ttextStyle: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tfontSize: 14\n\t\t\t\t},\n\t\t\t\tselectedMode: 'single'\n\t\t\t},\n\t\t\tradar: {\n\t\t\t\tindicator: [\n\t\t\t\t{ name: 'AQI', max: 300 },\n\t\t\t\t{ name: 'PM2.5', max: 250 },\n\t\t\t\t{ name: 'PM10', max: 300 },\n\t\t\t\t{ name: 'CO', max: 5 },\n\t\t\t\t{ name: 'NO2', max: 200 },\n\t\t\t\t{ name: 'SO2', max: 100 }\n\t\t\t\t],\n\t\t\t\tshape: 'circle',\n\t\t\t\tsplitNumber: 5,\n\t\t\t\taxisName: {\n\t\t\t\tcolor: 'rgb(238, 197, 102)'\n\t\t\t\t},\n\t\t\t\tsplitLine: {\n\t\t\t\tlineStyle: {\n\t\t\t\t\tcolor: [\n\t\t\t\t\t'rgba(238, 197, 102, 0.1)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.2)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.4)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.6)',\n\t\t\t\t\t'rgba(238, 197, 102, 0.8)',\n\t\t\t\t\t'rgba(238, 197, 102, 1)'\n\t\t\t\t\t].reverse()\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsplitArea: {\n\t\t\t\tshow: false\n\t\t\t\t},\n\t\t\t\taxisLine: {\n\t\t\t\tlineStyle: {\n\t\t\t\t\tcolor: 'rgba(238, 197, 102, 0.5)'\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\tname: 'Beijing',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataBJ,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: '#F9713C'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.1\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: 'Shanghai',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataSH,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: '#B3E4A1'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.05\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tname: 'Guangzhou',\n\t\t\t\ttype: 'radar',\n\t\t\t\tlineStyle: lineStyle,\n\t\t\t\tdata: dataGZ,\n\t\t\t\tsymbol: 'none',\n\t\t\t\titemStyle: {\n\t\t\t\t\tcolor: 'rgb(238, 197, 102)'\n\t\t\t\t},\n\t\t\t\tareaStyle: {\n\t\t\t\t\topacity: 0.05\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t\t};\n\t\t\toption && myChart.setOption(option);\n\n\t\t\tvar chartDom = document.getElementById('tre1');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\n\t\t\toption = {\n\t\t\txAxis: {\n\t\t\t\ttype: 'category',\n\t\t\t\tdata: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n\t\t\t},\n\t\t\tyAxis: {\n\t\t\t\ttype: 'value'\n\t\t\t},\n\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 901, 934, 1290, 1330, 1320],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 901, 94, 129, 1330, 1320],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 94, 129, 1330, 1320, 932, 901],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tdata: [820, 932, 132, 901, 94, 129, 1330],\n\t\t\t\ttype: 'line',\n\t\t\t\tsmooth: true\n\t\t\t\t}\n\t\t\t]\n\t\t\t};\n\t\t\toption && myChart.setOption(option);\n\n\n\n\t\t\tvar myChart = echarts.init(document.getElementById('tren'));\n\t\t\tvar option = {\n\t\t\t\ttitle: {\n\t\t\t\ttext: 'Funnel'\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'item',\n\t\t\t\tformatter: '{a} <br/>{b} : {c}%'\n\t\t\t\t},\n\t\t\t\ttoolbox: {\n\t\t\t\tfeature: {\n\t\t\t\t\tdataView: { readOnly: false },\n\t\t\t\t\trestore: {},\n\t\t\t\t\tsaveAsImage: {}\n\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\tdata: ['Show', 'Click', 'Visit', 'Inquiry', 'Order']\n\t\t\t\t},\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\tname: 'Funnel',\n\t\t\t\t\ttype: 'funnel',\n\t\t\t\t\tleft: '10%',\n\t\t\t\t\ttop: 60,\n\t\t\t\t\tbottom: 60,\n\t\t\t\t\twidth: '80%',\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: 100,\n\t\t\t\t\tminSize: '0%',\n\t\t\t\t\tmaxSize: '100%',\n\t\t\t\t\tsort: 'ascending',\n\t\t\t\t\tgap: 2,\n\t\t\t\t\tlabel: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tposition: 'inside'\n\t\t\t\t\t},\n\t\t\t\t\tlabelLine: {\n\t\t\t\t\tlength: 10,\n\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\ttype: 'solid'\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\titemStyle: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t\tborderWidth: 1\n\t\t\t\t\t},\n\t\t\t\t\temphasis: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tfontSize: 20\n\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdata: [\n\t\t\t\t\t{ value: 60, name: 'Visit' },\n\t\t\t\t\t{ value: 40, name: 'Inquiry' },\n\t\t\t\t\t{ value: 20, name: 'Order' },\n\t\t\t\t\t{ value: 80, name: 'Click' },\n\t\t\t\t\t{ value: 100, name: 'Show' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n      \t\toption && myChart.setOption(option);\n\n\t\t\tvar chartDom = document.getElementById('trenn');\n\t\t\tvar myChart = echarts.init(chartDom);\n\t\t\tvar option;\n\t\t\tsetTimeout(function () {\n\t\t\toption = {\n\t\t\t\tlegend: {},\n\t\t\t\ttooltip: {\n\t\t\t\ttrigger: 'axis',\n\t\t\t\tshowContent: false\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\tsource: [\n\t\t\t\t\t['product', '2012', '2013', '2014', '2015', '2016', '2017'],\n\t\t\t\t\t['Milk Tea', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],\n\t\t\t\t\t['Matcha Latte', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],\n\t\t\t\t\t['Cheese Cocoa', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],\n\t\t\t\t\t['Walnut Brownie', 25.2, 37.1, 41.2, 18, 33.9, 49.1]\n\t\t\t\t]\n\t\t\t\t},\n\t\t\t\txAxis: { type: 'category' },\n\t\t\t\tyAxis: { gridIndex: 0 },\n\t\t\t\tgrid: { top: '55%' },\n\t\t\t\tseries: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tsmooth: true,\n\t\t\t\t\tseriesLayoutBy: 'row',\n\t\t\t\t\temphasis: { focus: 'series' }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'pie',\n\t\t\t\t\tid: 'pie',\n\t\t\t\t\tradius: '30%',\n\t\t\t\t\tcenter: ['50%', '25%'],\n\t\t\t\t\temphasis: {\n\t\t\t\t\tfocus: 'self'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\tformatter: '{b}: {@2012} ({d}%)'\n\t\t\t\t\t},\n\t\t\t\t\tencode: {\n\t\t\t\t\titemName: 'product',\n\t\t\t\t\tvalue: '2012',\n\t\t\t\t\ttooltip: '2012'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tmyChart.on('updateAxisPointer', function (event) {\n\t\t\t\tconst xAxisInfo = event.axesInfo[0];\n\t\t\t\tif (xAxisInfo) {\n\t\t\t\tconst dimension = xAxisInfo.value + 1;\n\t\t\t\tmyChart.setOption({\n\t\t\t\t\tseries: {\n\t\t\t\t\tid: 'pie',\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tformatter: '{b}: {@[' + dimension + ']} ({d}%)'\n\t\t\t\t\t},\n\t\t\t\t\tencode: {\n\t\t\t\t\t\tvalue: dimension,\n\t\t\t\t\t\ttooltip: dimension\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tmyChart.setOption(option);\n\t\t\t});\n\t\t\toption && myChart.setOption(option);\n\n\t\t\tthis.drawBlankRadar();\n\t\t\tthis.autocheck();\n\t\t\tthis.draw0();\n\t\t},\n\n\t\tbeforeMount(){\n\t\t\tconsole.log(\"bef\",this.$param(\"sno\"));\n\t\t},\n\n\t\twatch: {\n\t\t\tstate(newv, oldv) {\n\t\t\t\tif (newv.match(/^[\\u4e00-\\u9fa5]+$/)) {\n\t\t\t\t\tif (newv.length > 10) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\"sname\": newv\n\t\t\t\t\t}\n\t\t\t\t\tthis.$http.post(\"stuAnalysis/searchadv\", this.$qs.stringify(data))\n\t\t\t\t\t\t.then(({\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\tthis.stuadvices = data;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tif (err.response.status != 404) {\n\t\t\t\t\t\t\t\talert(this.$errmsg(err));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tflag(n) {\n\t\t\t\tif (n == 3) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '保存成功！',\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped=\"scoped\">\n\t.el-main,\n\t.el-aside {\n\t\tmargin: 10px;\n\t\tbackground-color: #E9EEF3;\n\t\tcolor: #333;\n\t\ttext-align: center;\n\t\theight: 500px;\n\n\t}\n\n\t.search {\n\t\theight: 100px;\n\t}\n\n\t.el-form-item {\n\t\tmargin: 10px;\n\t}\n\n\t.text {\n\t\tfont-size: 14px;\n\t}\n\n\t.item {\n\t\tmargin-bottom: 18px;\n\t}\n\n\t.clearfix:before,\n\t.clearfix:after {\n\t\tdisplay: table;\n\t\tcontent: \"\";\n\t}\n\n\t.clearfix:after {\n\t\tclear: both\n\t}\n\n\t.box-card {\n\t\theight: 99.5%;\n\t\toverflow-y: scroll;\n\t}\n\n\n\n\t.my-autocomplete li {\n\t\tline-height: normal;\n\t\tpadding: 7px;\n\t}\n\n\t\n\t\n</style>\n"]}]}